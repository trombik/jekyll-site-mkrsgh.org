{% assign image      = include.image | default: page.image %}
{% assign alt        = include.alt   | default: page.image_alt %}
{% assign unsplash_author = include.unsplash_author | default: page.unsplash_author %}

{% unless image %}
{% assign image = site.project.blog.default.image.path %}
{% assign unsplash_author = site.project.blog.default.image.unsplash_author %}
{% endunless %}

{% if unsplash_author %}
    {% capture figcaption %}
{{ include.figcaption }} <a style="background-color:black;color:white;text-decoration:none;padding:4px 6px;font-family:-apple-system, BlinkMacSystemFont, &quot;San Francisco&quot;, &quot;Helvetica Neue&quot;, Helvetica, Ubuntu, Roboto, Noto, &quot;Segoe UI&quot;, Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px" href="https://unsplash.com/@{{ unsplash_author }}?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge" target="_blank" rel="noopener noreferrer" title="Download free do whatever you want high-resolution photos from @{{ unsplash_author }}"><span style="display:inline-block;padding:2px 3px">Photo by <svg xmlns="http://www.w3.org/2000/svg" style="height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:white" viewBox="0 0 32 32"><title>unsplash-logo</title><path d="M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"></path></svg></span><span style="display:inline-block;padding:2px 3px">@{{ unsplash_author }}</span></a>
    {% endcapture %}
{% else %}
{% assign figcaption = include.figcaption | default: page.image_figcaption %}
{% endif %}

{% if image %}
  <figure class="post-feature-image" role="img">
    <img class="img-fluid rounded" src="{{ site.baseurl | default: '/' }}{{ image }}" alt="{{ alt }}" />
    {% if figcaption %}
      <figcaption class="post-feature-image-figcaption text-right">{{ figcaption }}</figcaption>
    {% endif %}
  </figure>
{% endif %}
